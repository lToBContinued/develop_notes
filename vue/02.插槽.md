# 插槽

## 插槽的基本使用

### 使用场景：

当组件内某一部分不确定，想要自定义的时候

### 使用步骤：

1. 先在组件内用slot占位
2. 使用组件时，传入具体标签内容插入

```vue
// 例：
// App.vue
<div>
  <MyDialog>
    <div>你确认要删除吗？</div>
  </MyDialog>
  <MyDialog>
    <p>你确认要对出吗？</p>
  </MyDialog>
</div>

// MyDialog.vue文件
// 在想要插入的位置插入slot
<div class="dialog-content">
  <!-- 1.在需要定制的位置，使用slot占位 -->
  <slot></slot>
</div>
```

## 插槽的后备内容（默认值）

### 语法：在<slot></slot>标签内，放置内容，作为默认显示内容

### 效果：

外部使用组件时，不传东西，则slot会显示后备内容
外部使用组件时，传东西了，则slot整体会被换掉

```vue
// 例：
// App.vue
<div>
  <MyDialog></MyDialog>
  <MyDialog>你确认要退出吗</MyDialog>
</div>

// MyDialog.vue
<div class="dialog-content">
  <!-- 往slot标签内部编写内容，可以作为后备内容（默认值）-->
  <slot>
    我是默认文本内容
  </slot>
</div>
```

## 具名插槽

默认插槽：一个的定制位置 具名插槽：可以定制多个

### 语法：

1. 多个slot使用name属性区分名字
2. template配合 v-slot: 名字来分发对应标签
3. v-slot: 可以简写成 # （v-slot:head 可以简写为 #head）

```vue
// App.vue
<MyDialog>
  <!-- 需要template标签包裹需要分发的结构，包成一个整体 -->
  <template v-slot:head>
    <div>我是大标题</div>
  </template>
  <template v-slot:content>
    <div>我是内容</div>
  </template>
  <template #footer>
    <button>确认</button>
    <button>取消</button>
  </template>
</MyDialog>

// MyDialog.vue
<div class="dialog-header">
  <!-- 一旦插槽起了名字，就是具名插槽，只支持定向分发 -->
  <slot name="head"></slot>
</div>
<div class="dialog-content">
  <slot name="content"></slot>
</div>
<div class="dialog-footer">
  <slot name="footer"></slot>
</div>
```

## 作用域插槽

注：插槽的分类：默认插槽（组件内定制一处结构） 具名插槽（组件内定制多处结构）
作用域插槽：是插槽的一个传参语法

作用域插槽：定义slot插槽的同时，是可以传值的。给插槽上可以绑定数据，将来使用组件时可以用

### 使用步骤：

1. 给slot标签，以 添加属性的方式传值

```vue

<slot :id="item.id" msg="测试文本"></slot>
```

2. 所有添加的属性，都会被收集到一个对象中

```
{ id: 3, msg: '测试文本' }
```

3. 在template中，通过 #插槽名="变量名"    接收，默认插槽名为 default

```vue

<MyTable>
  <template #default='变量名'>
    <button @click="del(变量名.id)">
      删除
    </button>
  </template>
</MyTable>
```
