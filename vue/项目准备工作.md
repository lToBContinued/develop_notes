# 包管理器

![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8.png)

# 使用 vue-cli 创建项目

## vue2

1. 在项目文件夹shift + 右击打开PowerShell创建项目

```jsx
// PowerShell
vue create 项目名称
```

2. 选择自定义创建
   ![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/vue2%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA01.png)

3. 选择项目需要添加的特新（上下键选择，空格选中/取消，回车确认）
   ![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/vue2%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA02.png)

4. 选择项目版本
   ![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/vue2%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA03.png)

5. 选择路由模式（hash模式）
   ![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/vue2%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA04.png)

6. 选择预处理器（less或scss都可以）
   ![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/vue2%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA05.png)

7. 选择ESLint标准（Standard config 无分号规范）
   ![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/vue2%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA06.png)

8. 保存时进行规范的校验（按照默认）
   ![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/vue2%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA07.png)

9. 选择配置文件放在哪里（放在专用配置文件中）
   ![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/vue2%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA08.png)

10. 是否保存当前配置（否）
    ![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/vue2%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA09.png)

## vue3

1. 创建项目

```jsx
// PowerShell
pnpm creat vue
```

2. 选择配置
   ![](https://cdn.jsdelivr.net/gh/lToBContinued/FileWarehouse@main/vue3%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE.png)

# 浏览器适配

1. 安装postcss

```jsx
pnpm i postcss-px-to-viewport@1.1.1 -D
```

2. 在项目根目录创建 postcss.config.js，并添加配置

```jsx
module.exports = {
  plugins: {
    'postcss-px-to-viewport': {
      // vw 适配的标准屏的宽度
      // 设计图 750，调成一倍 => 适配375标准屏幕
      // 设计图 640，调成一倍 => 适配320标准屏幕
      viewportWidth: 375,
    },
  },
}
```

# 目录调整

1. 删除一些初始化的默认文件
2. 修改剩余代码内容
3. 新增调整我们需要的目录结构
4. 拷贝全局样式和图片，安装预处理器支持

# Eslint配置代码风格

配置文件.eslintrc.cjs

1. prettier 风格配置 https://prettier.io
2. vue 组件名称多单词组成（忽略 index.vue）
3. props 解构（关闭）

```jsx
module.exports = {
  // 1. 禁用格式化插件 prettier
  // 2. 安装Eslint插件，并配置保存时自动修复，关闭保存自动格式化
  rules: {
    'prettier/prettier': [
      'warn',
      {
        singleQuote: true, // 单引号
        semi: false, // 无分号
        printWidth: 80, // 每行宽度至多80字符
        trailingComma: 'none', // 不加对象|数组最后逗号
        endOfLine: 'auto', // 换行符号不限制（win mac 不一致）
      },
    ],
    'vue/multi-word-component-names': [
      'warn',
      {
        ignores: ['index'], // vue组件名称多单词组成（忽略index.vue）
      },
    ],
    'vue/no-setup-props-destructure': ['off'], // 关闭 props 解构的校验
    // 添加未定义变量错误提示
    'no-undef': 'error',
  },
}
```

# 配置代码检查工作流

## 提交前做代码检查

1. 初始化 git 仓库，执行 `git init` 即可
2. 初始化 husky 工具配置，执行 `pnpm dlx husky-init && pnpm install` 即可（此步骤在 git bash 中完成）
3. 修改 .husky/pre-commit 文件

```jsx
- npm test
+ pnpm lint
```

## 暂存区 eslint 校验

1. 安装 lint-staged 包 `pnpm i lint-staged -D`
2. package.json 配置 lint-staged 命令

```jsx
{
  // ... 省略 ...
  "lint-staged": {
    "*.{js,ts,vue}": [
      "eslint --fix"
    ]
  }
}

{
  "scripts": {
    // ... 省略 ...
    "lint-staged": "lint-staged"
  }
}
```

3. .husky/pre-commit 文件修改

```jsx
把 pnpm lint 改成 pnpm lint-stage
```
