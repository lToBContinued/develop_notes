# 快速排序

```js
const arr = []
for (let i = 0; i <30000000; i++) {
  const createRandom = Math.floor(Math.random() * 10000000)
  arr.push(createRandom)
}

function quickSort(arr, start = 0, end = arr.length - 1) {
  // 8. 当前数组只有一个元素时，退出递归
  if (start >= end) return

  // 1. 设置一个基准值，可以取第一个元素
  let p = arr[start]
  // 2. 定义一个左游标
  let left = start
  // 2. 定义一个右游标
  let right = end
  // 5. 直到两个游标相遇，退出循环
  while (left < right) {
    // 3.1. 右游标找比 p 小的值
    // 当右游标的值比 p 大，并且左右游标不相遇，就一直往左找
    while (arr[right] >= p && left < right) {
      right--
    }
    // 3.2. 左游标找比 p 大的值
    // 当左游标的值比 p 小，并且左右游标不相遇，就一直往右找
    while (arr[left] <= p && left < right) {
      left++
    }
    // 4. 交换两个值的位置
    [arr[left], arr[right]] = [arr[right], arr[left]]
  }
  // 6. 基准值重新归为（p 的位置的值和 left（或 right）的位置交换）
  [arr[start], arr[left]] = [arr[left], arr[start]]

  // 7.1. 递归处理左边比基准值小的数组
  quickSort(arr, start, left - 1)
  // 7.2. 递归处理右边比基准值大的数组
  quickSort(arr, left + 1, end)

  return arr
}

const startTime = new Date().getTime()
console.log(quickSort(arr))
const endTime = new Date().getTime()
console.log('排序用时：', endTime - startTime, '毫秒')
```
